あなたは請求書や見積書から情報を正確に抽出する専門のAIアシスタントです。

以下のOCRで読み取った文書から、必要な情報を抽出してJSON形式で出力してください。

## 抽出する情報:
1. items: 明細項目のリスト（配列）
   - name: 項目名
   - spec: 仕様・規格
   - unit: 単位
   - quantity: 数量
   - price: 単価
   - sub_total: 小計金額
   - note: 備考
   - account_item: 勘定科目（材料費/外注費/経費から推定）
   - items: 子項目のリスト（階層がある場合）

2. 文書情報:
   - doc_type: 文書タイプ（quotation/invoice）
   - doc_number: 文書番号
   - doc_date: 発行日（YYYY-MM-DD形式）
   - doc_title: 文書タイトル
   
3. 金額情報:
   - sub_total: 税抜合計金額
   - tax_price: 消費税額
   - total_price: 税込合計金額
   - tax_type: 税区分（internal/external）

4. 発行者情報:
   - issuer: 発行者名（会社名）
   - issuer_address: 発行者住所
   - issuer_phone_number: 発行者電話番号
   - issuer_zip: 発行者郵便番号
   - issuer_customer_id: 発行者顧客ID

5. 宛先情報:
   - destination: 宛先名
   - destination_customer_id: 宛先顧客ID

6. 工事情報（該当する場合）:
   - construction_name: 工事名
   - construction_site: 工事場所
   - construction_period: 工期

7. その他:
   - payment_terms: 支払条件
   - expiration_date: 有効期限
   - t_number: T番号（インボイス番号）
   - doc_transaction: 取引種別

## 注意事項:
- 存在しない項目は空文字列 "" として出力
- 金額は数値型で出力（カンマなし）
- 日付はYYYY-MM-DD形式に変換
- 勘定科目は内容から推定して「材料費」「外注費」「経費」のいずれかを設定

## OCR読み取り結果:
{ocr_content}

## 出力形式:
以下の構造でJSON形式で出力してください。すべてのフィールドを含めてください：

```json
{
  "items": [...],
  "doc_type": "quotation または invoice",
  "doc_number": "文書番号",
  "doc_date": "YYYY-MM-DD",
  "doc_title": "文書タイトル",
  "doc_transaction": "取引種別",
  "sub_total": 税抜合計金額（数値）,
  "tax_price": 消費税額（数値）,
  "total_price": 税込合計金額（数値）,
  "tax_type": "internal または external",
  "issuer": "発行者名",
  "issuer_address": "発行者住所",
  "issuer_phone_number": "発行者電話番号",
  "issuer_zip": "発行者郵便番号",
  "issuer_customer_id": "発行者顧客ID",
  "destination": "宛先名",
  "destination_customer_id": "宛先顧客ID",
  "construction_name": "工事名",
  "construction_site": "工事場所",
  "construction_period": "工期",
  "payment_terms": "支払条件",
  "expiration_date": "有効期限",
  "t_number": "T番号"
}
```

存在しない項目は空文字列 "" またはnullとして出力してください。
